<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="ENDTB-201605101556" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer where concept_id = 792 and answer_concept = 1648
            </sqlCheck>
        </preConditions>
        <comment>Adding 'Unable to or did not access' option to 'Followup, Ankle reflexes in left'</comment>
        <sql>
            insert into concept_answer (concept_id,answer_concept,creator,date_created,sort_weight,uuid)
            values (792,1648,4,now(),6,uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605101601" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer where concept_id = 793 and answer_concept = 1648
            </sqlCheck>
        </preConditions>
        <comment>Adding 'Unable to or did not access' option to 'Followup, Vibration Perception in Left'</comment>
        <sql>
            insert into concept_answer (concept_id,answer_concept,creator,date_created,sort_weight,uuid)
            values (793,1648,4,now(),5,uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605101705" author="Mahesh">
        <comment>Updating INCORRECT to CORRECT plates in Baseline and Followup forms</comment>
        <sql>
            update concept_name set name = 'Followup, Left Eye Correct Plates' where concept_id = 181 and concept_name_type = 'FULLY_SPECIFIED';
            update concept_name set name = 'Followup, Right Eye Correct Plates' where concept_id = 182 and concept_name_type = 'FULLY_SPECIFIED';
            update concept_name set name = 'Followup, Correct plates' where concept_id = 189 and concept_name_type = 'FULLY_SPECIFIED';
            update concept_name set name = 'Number of Correct Plates' where concept_id = 189 and concept_name_type = 'SHORT';
            update concept_name set name = 'Baseline, Left Eye Correct Plates' where concept_id = 316 and concept_name_type = 'FULLY_SPECIFIED';
            update concept_name set name = 'Baseline, Right Eye Correct Plates' where concept_id = 317 and concept_name_type = 'FULLY_SPECIFIED';
            update concept_name set name = 'Number of Correct Plates' where concept_id = 362 and concept_name_type = 'SHORT';
            update concept_name set name = 'Baseline, Correct plates' where concept_id = 362 and concept_name_type = 'FULLY_SPECIFIED';
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605111155" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer where concept_id = 799 and answer_concept = 1648
            </sqlCheck>
        </preConditions>
        <comment>Adding 'Unable to or did not access' option to 'Followup, Ankle reflexes in right'</comment>
        <sql>
            insert into concept_answer (concept_id,answer_concept,creator,date_created,sort_weight,uuid)
            values (799,1648,4,now(),6,uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605111157" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer where concept_id = 798 and answer_concept = 1648
            </sqlCheck>
        </preConditions>
        <comment>Adding 'Unable to or did not access' option to 'Followup, Vibration Perception in Right'</comment>
        <sql>
            insert into concept_answer (concept_id,answer_concept,creator,date_created,sort_weight,uuid)
            values (798,1648,4,now(),5,uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-20160524112300" author="shivakumar">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*)  from concept_reference_source where name="EndTB-Export";
            </sqlCheck>
        </preConditions>
        <comment>adding new concept_reference_source</comment>
        <sql>
            update concept_reference_source set hl7_code = null where hl7_code = '';
            insert into concept_reference_source (name,description,creator,date_created,uuid) values ('EndTB-Export','Codes for output in endTB exports',1,now(),uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605250907" author="Shruthi">
        <comment>Adding a procedure to create a concept reference mapping</comment>
        <sql>
            DROP PROCEDURE IF EXISTS CREATE_REFERENCE_MAPPING;
        </sql>
        <sqlFile splitStatements="false" path="CreateReferenceMapping.sql"/>
    </changeSet>
    <changeSet id="ENDTB-201605271117" author="Mahesh">
        <comment>Adding reference terms for endTB exports codes</comment>
        <sqlFile path="export_ref_terms.sql"/>
    </changeSet>
    <changeSet id="ENDTB-201605271537" author="Mahesh">
        <comment>Mapping export codes with respective concepts</comment>
        <sqlFile path="concept_ref_map.sql"/>
    </changeSet>
    <changeSet id="ENDTB-201605271655" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_view where concept_full_name = 'Bacteriology, Smear test lab ID number' and concept_datatype_name = 'Numeric';
            </sqlCheck>
        </preConditions>
        <comment>Migrating Smear test lab ID from numeric to text</comment>
        <sql>
		select concept_id into @conceptID from concept_view where concept_full_name = 'Bacteriology, Smear test lab ID number';
		update obs set value_text = concat(value_numeric) where concept_id = @conceptID;
		update concept set datatype_id = (select concept_datatype_id from concept_datatype where name = 'Text') where concept_id = @conceptID;
		update obs set value_numeric = NULL where concept_id = @conceptID;
		delete from concept_numeric where concept_id = @conceptID;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605271710" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_view where concept_full_name = 'Bacteriology, Xpert test ID number' and concept_datatype_name = 'Numeric';
            </sqlCheck>
        </preConditions>
        <comment>Migrating Xpert test ID from numeric to text</comment>
        <sql>
                select concept_id into @conceptID from concept_view where concept_full_name = 'Bacteriology, Xpert test ID number';
                update obs set value_text = concat(value_numeric) where concept_id = @conceptID;
                update concept set datatype_id = (select concept_datatype_id from concept_datatype where name = 'Text') where concept_id = @conceptID;
                update obs set value_numeric = NULL where concept_id = @conceptID;
                delete from concept_numeric where concept_id = @conceptID;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605271711" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_view where concept_full_name = 'Bacteriology, HAIN MTBDRplus test lab ID' and concept_datatype_name = 'Numeric';
            </sqlCheck>
        </preConditions>
        <comment>Migrating HAIN MTBDRplus test lab ID from numeric to text</comment>
        <sql>
                select concept_id into @conceptID from concept_view where concept_full_name = 'Bacteriology, HAIN MTBDRplus test lab ID';
                update obs set value_text = concat(value_numeric) where concept_id = @conceptID;
                update concept set datatype_id = (select concept_datatype_id from concept_datatype where name = 'Text') where concept_id = @conceptID;
                update obs set value_numeric = NULL where concept_id = @conceptID;
                delete from concept_numeric where concept_id = @conceptID;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605271712" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_view where concept_full_name = 'Bacteriology, HAIN MTBDRsl test ID' and concept_datatype_name = 'Numeric';
            </sqlCheck>
        </preConditions>
        <comment>Migrating HAIN MTBDRsl test ID from numeric to text</comment>
        <sql>
                select concept_id into @conceptID from concept_view where concept_full_name = 'Bacteriology, HAIN MTBDRsl test ID';
                update obs set value_text = concat(value_numeric) where concept_id = @conceptID;
                update concept set datatype_id = (select concept_datatype_id from concept_datatype where name = 'Text') where concept_id = @conceptID;
                update obs set value_numeric = NULL where concept_id = @conceptID;
                delete from concept_numeric where concept_id = @conceptID;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605271713" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_view where concept_full_name = 'Bacteriology, Culture test lab ID' and concept_datatype_name = 'Numeric';
            </sqlCheck>
        </preConditions>
        <comment>Migrating Culture test lab ID from numeric to text</comment>
        <sql>
                select concept_id into @conceptID from concept_view where concept_full_name = 'Bacteriology, Culture test lab ID';
                update obs set value_text = concat(value_numeric) where concept_id = @conceptID;
                update concept set datatype_id = (select concept_datatype_id from concept_datatype where name = 'Text') where concept_id = @conceptID;
                update obs set value_numeric = NULL where concept_id = @conceptID;
                delete from concept_numeric where concept_id = @conceptID;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605280823" author="Mahesh">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name where concept_id = 224 and locale = 'en' and concept_name_type = 'SHORT' and voided = 0;
            </sqlCheck>
        </preConditions>
        <comment>Updating Gatifloxacin drug shortname</comment>
        <sql>
		update concept_name set name = 'Gatifloxacin (Gtx)', voided = 0, voided_by = null, date_voided = null where concept_id = 224 and concept_name_type = 'SHORT' and locale = 'en';
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605280829" author="Mahesh">
        <comment>Updating order of drugs for the field Past TB Drugs more than 1 month in Past TB Treatment</comment>
        <sql>
                update concept_answer set sort_weight = 1 where concept_id = 278 and answer_concept = 221;
		update concept_answer set sort_weight = 2 where concept_id = 278 and answer_concept = 1225;
		update concept_answer set sort_weight = 3 where concept_id = 278 and answer_concept = 237;
		update concept_answer set sort_weight = 4 where concept_id = 278 and answer_concept = 1226;
		update concept_answer set sort_weight = 5 where concept_id = 278 and answer_concept = 238;
		update concept_answer set sort_weight = 6 where concept_id = 278 and answer_concept = 240;
		update concept_answer set sort_weight = 7 where concept_id = 278 and answer_concept = 215;
		update concept_answer set sort_weight = 8 where concept_id = 278 and answer_concept = 219;
		update concept_answer set sort_weight = 9 where concept_id = 278 and answer_concept = 227;
		update concept_answer set sort_weight = 10 where concept_id = 278 and answer_concept = 242;
		update concept_answer set sort_weight = 11 where concept_id = 278 and answer_concept = 217;
		update concept_answer set sort_weight = 12 where concept_id = 278 and answer_concept = 224;
		update concept_answer set sort_weight = 13 where concept_id = 278 and answer_concept = 228;
		update concept_answer set sort_weight = 14 where concept_id = 278 and answer_concept = 231;
		update concept_answer set sort_weight = 15 where concept_id = 278 and answer_concept = 234;
		update concept_answer set sort_weight = 16 where concept_id = 278 and answer_concept = 220;
		update concept_answer set sort_weight = 17 where concept_id = 278 and answer_concept = 223;
		update concept_answer set sort_weight = 18 where concept_id = 278 and answer_concept = 235;
		update concept_answer set sort_weight = 19 where concept_id = 278 and answer_concept = 1227;
		update concept_answer set sort_weight = 20 where concept_id = 278 and answer_concept = 236;
		update concept_answer set sort_weight = 21 where concept_id = 278 and answer_concept = 244;
		update concept_answer set sort_weight = 22 where concept_id = 278 and answer_concept = 216;
		update concept_answer set sort_weight = 23 where concept_id = 278 and answer_concept = 1251;
		update concept_answer set sort_weight = 24 where concept_id = 278 and answer_concept = 1258;
		update concept_answer set sort_weight = 25 where concept_id = 278 and answer_concept = 218;
		update concept_answer set sort_weight = 26 where concept_id = 278 and answer_concept = 1252;
		update concept_answer set sort_weight = 27 where concept_id = 278 and answer_concept = 1228;
		update concept_answer set sort_weight = 28 where concept_id = 278 and answer_concept = 229;
		update concept_answer set sort_weight = 29 where concept_id = 278 and answer_concept = 230;
		update concept_answer set sort_weight = 30 where concept_id = 278 and answer_concept = 243;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605280836" author="Mahesh">
        <comment>Updating the drugs for the field Past TB Drug Regimen in Past TB Treatment Table</comment>
        <sql>
		update concept_answer set sort_weight = 1 where concept_id = 731 and answer_concept = 221;
		update concept_answer set sort_weight = 2 where concept_id = 731 and answer_concept = 1225;
		update concept_answer set sort_weight = 3 where concept_id = 731 and answer_concept = 237;
		update concept_answer set sort_weight = 4 where concept_id = 731 and answer_concept = 1226;
		update concept_answer set sort_weight = 7 where concept_id = 731 and answer_concept = 215;
		update concept_answer set sort_weight = 8 where concept_id = 731 and answer_concept = 219;
		update concept_answer set sort_weight = 9 where concept_id = 731 and answer_concept = 227;
		update concept_answer set sort_weight = 10 where concept_id = 731 and answer_concept = 242;
		update concept_answer set sort_weight = 13 where concept_id = 731 and answer_concept = 228;
		update concept_answer set sort_weight = 14 where concept_id = 731 and answer_concept = 231;
		update concept_answer set sort_weight = 16 where concept_id = 731 and answer_concept = 220;
		update concept_answer set sort_weight = 17 where concept_id = 731 and answer_concept = 223;
		update concept_answer set sort_weight = 18 where concept_id = 731 and answer_concept = 235;
		update concept_answer set sort_weight = 19 where concept_id = 731 and answer_concept = 1227;
		update concept_answer set sort_weight = 20 where concept_id = 731 and answer_concept = 236;
		update concept_answer set sort_weight = 21 where concept_id = 731 and answer_concept = 244;
		update concept_answer set sort_weight = 22 where concept_id = 731 and answer_concept = 216;
		update concept_answer set sort_weight = 23 where concept_id = 731 and answer_concept = 1251;
		update concept_answer set sort_weight = 25 where concept_id = 731 and answer_concept = 218;
		update concept_answer set sort_weight = 26 where concept_id = 731 and answer_concept = 1252;
		update concept_answer set sort_weight = 27 where concept_id = 731 and answer_concept = 1228;
		update concept_answer set sort_weight = 28 where concept_id = 731 and answer_concept = 229;
		update concept_answer set sort_weight = 29 where concept_id = 731 and answer_concept = 230;

		insert into concept_answer(concept_id, answer_concept, creator, date_created, sort_weight, uuid) values 
			(731,217,4,now(),11,uuid()),
			(731,224,4,now(),12,uuid()),
			(731,234,4,now(),15,uuid()),
			(731,238,4,now(),5,uuid()),
			(731,240,4,now(),6,uuid()),
			(731,243,4,now(),30,uuid()),
			(731,1258,4,now(),24,uuid());
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201605311815" author="Mahesh,Shiva">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name where name = 'Once' and concept_name_type = 'FULLY_SPECIFIED';
            </sqlCheck>
        </preConditions>
        <comment>Updating drug frequency Immediately to Once</comment>
	<sql>
		update concept_name set name = 'Once' where concept_id = 88  and concept_name_type = 'FULLY_SPECIFIED';
		update order_frequency set uuid = uuid() where concept_id = 88;
        </sql>
    </changeSet>
    <changeSet id="ENDTB-201606061251" author="Shiva kumar">
        <comment>Adding answer-concept and Updating type of assesment in follow up form</comment>
	<sql>
		Insert into concept_answer(concept_id,answer_concept,creator,date_created,sort_weight,uuid) values (166,784,1,now(),6,uuid());

		update concept_answer set sort_weight = 1 where concept_id = 166 and answer_concept = 784;
		update concept_answer set sort_weight = 2 where concept_id = 166 and answer_concept = 1788;
		update concept_answer set sort_weight = 3 where concept_id = 166 and answer_concept = 1748;
		update concept_answer set sort_weight = 4 where concept_id = 166 and answer_concept = 1749;
		update concept_answer set sort_weight = 5 where concept_id = 166 and answer_concept = 1750;
		update concept_answer set sort_weight = 6 where concept_id = 166 and answer_concept = 1751;
	</sql>
    </changeSet>
	<changeSet id="ENDTB-201606061551" author="Shiva kumar">
	<comment>updating absolute high and low values in followup form</comment>
	<sql>
		update concept_numeric set hi_absolute ='750',low_absolute ='0.5' where concept_id ='1199';
		update concept_numeric set hi_absolute ='260',low_absolute ='30' where concept_id ='1200';
		update concept_numeric set hi_absolute ='300',low_absolute ='1' where concept_id ='169';
		update concept_numeric set hi_absolute ='200',low_absolute ='1' where concept_id ='1202'
	</sql>
    </changeSet>
	<changeSet id="ENDTB-201606061712" author="Shiva kumar">
	<comment>updating answer in followup form</comment>
	<sql>
		update concept_answer set sort_weight = 1 where concept_id =1317 and answer_concept=1;
		update concept_answer set sort_weight = 2 where concept_id =1317 and answer_concept=2;
		update concept_answer set sort_weight = 3 where concept_id =1317 and answer_concept=1014;
		update concept_answer set sort_weight = 4 where concept_id =1317 and answer_concept=149;
	</sql>
    </changeSet>
	<changeSet id="ENDTB-201606071014" author="Shiva kumar">
	<comment>Updating followup form reflexes</comment>
	<sql>
		update concept_answer set sort_weight = 1 where concept_id =792 and answer_concept=1649;
		update concept_answer set sort_weight = 2 where concept_id =792 and answer_concept=760;
		update concept_answer set sort_weight = 3 where concept_id =792 and answer_concept=759;
		update concept_answer set sort_weight = 4 where concept_id =792 and answer_concept=761;
		update concept_answer set sort_weight = 5 where concept_id =792 and answer_concept=762;
		update concept_answer set sort_weight = 6 where concept_id =792 and answer_concept=1648;
		update concept_answer set sort_weight = 1 where concept_id =799 and answer_concept=1649;
		update concept_answer set sort_weight = 2 where concept_id =799 and answer_concept=760;
		update concept_answer set sort_weight = 3 where concept_id =799 and answer_concept=759;
		update concept_answer set sort_weight = 4 where concept_id =799 and answer_concept=761;
		update concept_answer set sort_weight = 5 where concept_id =799 and answer_concept=762;
		update concept_answer set sort_weight = 6 where concept_id =799 and answer_concept=1648;

	</sql>
    </changeSet>
    <changeSet id="ENDTB-201606071045" author="Shiva kumar">
	<comment>Updating followup form absolute high and low values for Visual acuity</comment>
	<sql>
		update concept_numeric set hi_absolute=400 ,low_absolute=0 where concept_id=313;
		update concept_numeric set hi_absolute=400 ,low_absolute=0 where concept_id=314;

	</sql>
    </changeSet>
   <changeSet id="ENDTB-201606071047" author="Shiva kumar">
	<comment>Updating followup and Baseline form absolute high and low values for color blindness</comment>
	<sql>
		update concept_numeric set low_absolute =0 and hi_absolute =11 where concept_id =181;
		update concept_numeric set low_absolute =0 and hi_absolute =11 where concept_id =182;
		update concept_numeric set low_absolute= 0 and hi_absolute =11 where concept_id =316;
		update concept_numeric set low_absolute= 0 and hi_absolute =11 where concept_id =317;

	</sql>
    </changeSet>
    <changeSet id="ENDTB-201606071145" author="Shiva kumar">
	<comment>Updating  Reasons for Lost to Follow-up</comment>
	<sql>
		update concept_answer set sort_weight=1 where concept_id=937 and answer_concept=521;
		update concept_answer set sort_weight=2 where concept_id=937 and answer_concept=931;
		update concept_answer set sort_weight=3 where concept_id=937 and answer_concept=932;
		update concept_answer set sort_weight=4 where concept_id=937 and answer_concept=933;
		update concept_answer set sort_weight=5 where concept_id=937 and answer_concept=934;
		update concept_answer set sort_weight=6 where concept_id=937 and answer_concept=935;
		update concept_answer set sort_weight=7 where concept_id=937 and answer_concept=246;
		update concept_answer set sort_weight=8 where concept_id=937 and answer_concept=149;
		update concept_answer set sort_weight=1 where concept_id=956 and answer_concept=521;
		update concept_answer set sort_weight=2 where concept_id=956 and answer_concept=955;
		update concept_answer set sort_weight=3 where concept_id=956 and answer_concept=932;
		update concept_answer set sort_weight=4 where concept_id=956 and answer_concept=933;
		update concept_answer set sort_weight=5 where concept_id=956 and answer_concept=934;
		update concept_answer set sort_weight=6 where concept_id=956 and answer_concept=935;
		update concept_answer set sort_weight=7 where concept_id=956 and answer_concept=246;
		update concept_answer set sort_weight=8 where concept_id=956 and answer_concept=149;
	</sql>
    </changeSet>
    <changeSet id="ENDTB-201606071301" author="Shiva kumar">
	<comment>Updating  Baseline form Reason for next assessment</comment>
	<sql>
		Insert into concept_answer(concept_id,answer_concept,creator,date_created,sort_weight,uuid) values (1790,784,1,now(),4,uuid());
		Insert into concept_answer(concept_id,answer_concept,creator,date_created,sort_weight,uuid) values (1790,1750,1,now(),5,uuid());
		Insert into concept_answer(concept_id,answer_concept,creator,date_created,sort_weight,uuid) values (1790,1751,1,now(),6,uuid());

		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=784;
		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=1788;
		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=1748;
		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=1749;
		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=1750;
		update concept_answer set sort_weight=1 where concept_id=1790 and answer_concept=1751;
	</sql>
    </chnageSet>
    <changeSet id="ENDTB-201606071402" author="Shiva kumar">
	<comment>Updating  Baseline form Ankle reflexes</comment>
	<sql>
		update concept_answer set sort_weight=1 where concept_id =763 and answer_concept=1649;
		update concept_answer set sort_weight=2 where concept_id =763 and answer_concept=760;
		update concept_answer set sort_weight=3 where concept_id =763 and answer_concept=759;
		update concept_answer set sort_weight=4 where concept_id =763 and answer_concept=761;
		update concept_answer set sort_weight=5 where concept_id =763 and answer_concept=762;
		update concept_answer set sort_weight=6 where concept_id =763 and answer_concept=1648;
		update concept_answer set sort_weight=1 where concept_id =764 and answer_concept=1649;
		update concept_answer set sort_weight=2 where concept_id =764 and answer_concept=760;
		update concept_answer set sort_weight=3 where concept_id =764 and answer_concept=759;
		update concept_answer set sort_weight=4 where concept_id =764 and answer_concept=761;
		update concept_answer set sort_weight=5 where concept_id =764 and answer_concept=762;
		update concept_answer set sort_weight=6 where concept_id =764 and answer_concept=1648;
	</sql>
    </changeSet>
    <changeSet id="ENDTB-201606071447" author="Shiva kumar">
	<comment>Updating Year first TB treatment in Baseline form</comment>
	<sql>
		update concept_numeric set hi_absolute=2050 where concept_id =273;
	</sql>
    </changeSet>
    <changeSet id="ENDTB-201606071847" author="Shiva kumar">
	<comment>Adding new Answer concept in Outcome</comment>
	<sql>
		insert into concept_answer(concept_id, answer_concept, creator, date_created, sort_weight, uuid) values 
			(914,735,1,now(),10,uuid());
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081123" author="Shiva kumar, Sudhamsh">
	<comment>Updating Past TB outcome in Baseline form</comment>
	<sql>
		delete from concept_answer where answer_concept in ( 411, 736,149,734 ) and concept_id=737;
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (737,413,1,now(),6, uuid()),
															(737,349,1,now(),3, uuid()), 
															(737,913,1,now(),5, uuid());
		update concept_answer set sort_weight= 2 where concept_id = 737 and answer_concept= 732;
		update concept_answer set sort_weight= 4 where concept_id = 737 and answer_concept= 204;
		update concept_answer set sort_weight= 1 where concept_id = 737 and answer_concept= 407;
		update concept_answer set sort_weight= 7 where concept_id = 737 and answer_concept= 735;
		update concept_answer set sort_weight= 8 where concept_id = 737 and answer_concept= 208;	
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081148" author="Shiva kumar, Sudhamsh">
	<comment>Updating Last Drug resistant TB treatment outcome in Baseline form</comment>
	<sql>
		delete from concept_answer where answer_concept in (348,149,736) and concept_id=1747;
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (1747,913,1,now(),5, uuid()), 
															(1747,349,1,now(),3, uuid()),
															(1747,735,1,now(),7, uuid());
		update concept_answer set sort_weight= 2 where concept_id = 1747 and answer_concept= 732;
		update concept_answer set sort_weight= 4 where concept_id = 1747 and answer_concept= 204;
		update concept_answer set sort_weight= 1 where concept_id = 1747 and answer_concept= 407;
		update concept_answer set sort_weight= 6 where concept_id = 1747 and answer_concept= 413;

	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081154" author="Shiva kumar, Sudhamsh">
	<comment>Updating Last Drug sensitiveTB treatment outcome in Baseline form</comment>
	<sql>
		delete from concept_answer where answer_concept in (348,1746,149) and concept_id=1744;
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (1744,913,1,now(),5, uuid()), 
															(1744,349,1,now(),3, uuid()),
															(1744,735,1,now(),7, uuid());
		update concept_answer set sort_weight= 2 where concept_id = 1744 and answer_concept= 732;
		update concept_answer set sort_weight= 4 where concept_id = 1744 and answer_concept= 204;
		update concept_answer set sort_weight= 1 where concept_id = 1744 and answer_concept= 407;
		update concept_answer set sort_weight= 6 where concept_id = 1744 and answer_concept= 413;

	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081237" author="Shiva kumar, Sudhamsh">
	<comment>Updating If no, reason for not starting treatment in Treatment Initiation form</comment>
	<sql>
		update concept_answer set sort_weight= 3 where concept_id = 352 and answer_concept= 349;
		update concept_answer set sort_weight= 5 where concept_id = 352 and answer_concept= 348;
		update concept_answer set sort_weight= 2 where concept_id = 352 and answer_concept= 351;
		update concept_answer set sort_weight= 4 where concept_id = 352 and answer_concept= 350;
		update concept_answer set sort_weight= 1 where concept_id = 352 and answer_concept= 347;
		update concept_answer set sort_weight= 6 where concept_id = 352 and answer_concept= 246;
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081257" author="Shiva kumar, Sudhamsh">
	<comment>Updating Reason for next visit in Treatment Initiation form</comment>
	<sql>
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (1792,784,1,now(),1, uuid()), 
															(1792,1750,1,now(),5, uuid()),
															(1792,1751,1,now(),6, uuid());
		update concept_answer set sort_weight= 2 where concept_id = 1792 and answer_concept= 1788;
		update concept_answer set sort_weight= 3 where concept_id = 1792 and answer_concept= 1748;
		update concept_answer set sort_weight= 4 where concept_id = 1792 and answer_concept= 1749;
	</sql>
    </changeSet>


    <changeSet id="ENDTB-201606081317" author="Shiva kumar, Sudhamsh">
	<comment>Updating Type of Assessment in Performance Status form</comment>
	<sql>
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (865,1788,1,now(),2, uuid());
		update concept_answer set sort_weight= 1 where concept_id = 865 and answer_concept= 784;
		update concept_answer set sort_weight= 3 where concept_id = 865 and answer_concept= 1748;
		update concept_answer set sort_weight= 4 where concept_id = 865 and answer_concept= 1749;
		update concept_answer set sort_weight= 5 where concept_id = 865 and answer_concept= 1750;
		update concept_answer set sort_weight= 6 where concept_id = 865 and answer_concept= 1751;
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081459" author="Shiva kumar, Sudhamsh">
	<comment>Updating Reason for hospitalization in HDS form</comment>
	<sql>
		update concept_answer set sort_weight=1 where concept_id=885 and answer_concept=521;
		update concept_answer set sort_weight=2 where concept_id=885 and answer_concept=879;
		update concept_answer set sort_weight=3 where concept_id=885 and answer_concept=880;
		update concept_answer set sort_weight=4 where concept_id=885 and answer_concept=884;
		update concept_answer set sort_weight=5 where concept_id=885 and answer_concept=878;
		update concept_answer set sort_weight=6 where concept_id=885 and answer_concept=881;
		update concept_answer set sort_weight=7 where concept_id=885 and answer_concept=882;
		update concept_answer set sort_weight=8 where concept_id=885 and answer_concept=883;
       		update concept_answer set sort_weight=9 where concept_id=885 and answer_concept=246;
        	update concept_answer set sort_weight=10 where concept_id=885 and answer_concept=149;
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081518" author="Shiva kumar, Sudhamsh">
	<comment>Updating Type of visit in Bacteriology form </comment>
	<sql>
		insert into concept_answer (concept_id, answer_concept, creator, date_created,sort_weight, uuid) values (1079,1788,1,now(),2, uuid());
		update concept_answer set sort_weight= 1 where concept_id = 1079 and answer_concept= 784;
		update concept_answer set sort_weight= 3 where concept_id = 1079 and answer_concept= 1748;
		update concept_answer set sort_weight= 4 where concept_id = 1079 and answer_concept= 1749;
		update concept_answer set sort_weight= 5 where concept_id = 1079 and answer_concept= 1750;
		update concept_answer set sort_weight= 6 where concept_id = 1079 and answer_concept= 1751;
	</sql>
    </changeSet>

    <changeSet id="ENDTB-201606081703" author="Shiva kumar, Sudhamsh">
	<comment>Updating Type of assessment in  X-Ray form </comment>
	<sql>
		delete from concept_answer where concept_id=963 and answer_concept = 1813;
		insert into concept_answer (concept_id,answer_concept,creator,date_created,sort_weight,uuid) values (963,1788,1,now(),2,uuid()),(963,1748,1,now(),3,uuid()),(963,1751,1,now(),6,uuid());
		update concept_answer set sort_weight=1 where concept_id =963 and answer_concept=784;
		update concept_answer set sort_weight=4 where concept_id =963 and answer_concept=1749;
		update concept_answer set sort_weight=5 where concept_id =963 and answer_concept=1750;

	</sql>
    </changeSet>

</databaseChangeLog>
